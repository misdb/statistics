# 2-1. Three Popular Data Displays

## 1. Stem and Leaf Diagrams

통계학 강의를 듣고 있는 30명 학생의 시험 성적은 다음과 같다.

```text
86 80 25 77 73  76 100 90 69 93
90 83 70 73 73  70  90 83 71 95
40 58 68 69 100 78  87 97 92 73
```

위의 데이터를 가시화하기 위한 방법 중 하나가 **stem and leaf diagram**이다.

R에서는 이러한 데이터 표현을 위해 `stem()` 함수를 사용한다.

**Syntax :**

```text
stem(x, scale = 1, width = 80, atom = 1e-08)
```

**arguments :**

* x : 수치형 벡터
* scale = : 플롯의 길이를 제어
* width = : 원하는 플롯의 넓이
* atom = : tolerance

**\[Solution\]**

{% tabs %}
{% tab title="R Code" %}
```text
score <- c(86, 80, 25, 77, 73,  76, 100, 90, 69, 93,
           90, 83, 70, 73, 73,  70,  90, 83, 71, 95,
           40, 58, 68, 69, 100, 78,  87, 97, 92, 73)
stem(score)
```
{% endtab %}

{% tab title="Result" %}
```text
##   The decimal point is 1 digit(s) to the right of the |
## 
##    2 | 5
##    3 | 
##    4 | 0
##    5 | 8
##    6 | 899
##    7 | 0013333678
##    8 | 03367
##    9 | 0002357
##   10 | 00
##
```
{% endtab %}
{% endtabs %}

10의 자리 숫자가 stem이 되고, 1의 자리 숫자가 leaf가 됨을 알 수 있다.

**연습문제**  stem의 갯수를 반으로 줄여서 diagram을 그려라.

**\[Solution\]**

{% tabs %}
{% tab title="R Code" %}
```text
stem(score, scale = 0.5)    # stem의 갯수를 50%로 줄임 -> 2, 4, 6, 8, 10 등
```
{% endtab %}

{% tab title="Result" %}
```text
##   The decimal point is 1 digit(s) to the right of the |
## 
##    2 | 5
##    4 | 08
##    6 | 8990013333678
##    8 | 033670002357
##   10 | 00
##
```
{% endtab %}
{% endtabs %}

## 2. Frequency Histograms

stem and leaf diagram은 대규모 데이터 세트에는 적합하지 않다.

이 때 사용되는 방법이 **빈도 히스토그램**이다.

```text
hist(x, main = paste("Histogram of ", xname), 
        xlim = range(breaks),
        ylim = NULL,
        xlab = xname, 
        ylab = 
        ... )
```

**arguments :**

* `x` : 히스토그램의 벡터 데이터
* `main =` : 히스토그램의 제목
* `xlim =` : x 축의 범위
* `ylim =` : y 축의 범위
* `xlab =` : x 축의 제목
* `ylab =` : y 축의 제목

이전의 stem and leaf diagram을 frequency histogram으로 그려라.

**\[Solution\]**

{% tabs %}
{% tab title="R Code" %}
```text
require(lattice)
require(openintro)

histogram(score, type = "count",
          xlim = c(0, 110),
          ylim = c(0, 12),
           breaks = seq(5, 105, by=10))
```
{% endtab %}

{% tab title="Result" %}
![](../.gitbook/assets/1570687481484.png)
{% endtab %}
{% endtabs %}

## 3. Relative Frequency Histogram

**\[Solution\]**

{% tabs %}
{% tab title="R Code" %}
```text
histogram(score, type = "percent",
          xlim = c(0, 110),
          ylim = c(0, 40),
          breaks = seq(5, 105, by=10))
```
{% endtab %}

{% tab title="Result" %}
 

![](../.gitbook/assets/1570687573652.png)
{% endtab %}
{% endtabs %}

y 축의 값이 갯수\(count\)가 아닌 백분율\(percent\)로 출력된다.

## 4. Sample size and Relative Frequency Histograms

sample size가 커짐에 따라 전체 모양은 좌우 대칭의 종 모양이 된다.

![](../.gitbook/assets/1570687748413.png)

## 5. A Very Fine Relative Frequency Histogram

![](../.gitbook/assets/1570687965603.png)

### 

## 6. Frequency Table

Ex. Using `iris` data set, Find the frequency table of the 2nd column\(`Sepal.Width`\) of `iris`.

{% tabs %}
{% tab title="R Source" %}
```text
library(Rstat)

# import iris data set
data(iris)
# data structure of iris
str(iris)

# select the 2nd column
x <- iris[[2]]


# 1. frequency table
freq.table(x)

# 2. frequenct table & the yellow histogram
freq.table(x, mp=TRUE, col=7)

# 3. Change the class interval as 0.5
(mycut <- seq(2, 4.5, by=0.5))
freq.table(x, cut=mycut)
freq.table(x, cut=mycut, mp=TRUE, col=0)
```
{% endtab %}

{% tab title="1." %}
```text
> freq.table(x)
##            Center Freq Cum-Fr Rel-Fr Rel-CFr
## (2, 2.2]      2.1    4      4 0.0267  0.0267
## (2.2, 2.4]    2.3    7     11 0.0467  0.0733
## (2.4, 2.6]    2.5   13     24 0.0867  0.1600
## (2.6, 2.8]    2.7   23     47 0.1533  0.3133
## (2.8, 3]      2.9   36     83 0.2400  0.5533
## (3, 3.2]      3.1   24    107 0.1600  0.7133
## (3.2, 3.4]    3.3   18    125 0.1200  0.8333
## (3.4, 3.6]    3.5   10    135 0.0667  0.9000
## (3.6, 3.8]    3.7    9    144 0.0600  0.9600
## (3.8, 4]      3.9    3    147 0.0200  0.9800
## (4, 4.2]      4.1    2    149 0.0133  0.9933
## (4.2, 4.4]    4.3    1    150 0.0067  1.0000
```
{% endtab %}

{% tab title="2." %}
```text
> freq.table(x, mp=TRUE, col=7)
           Center Freq Cum-Fr Rel-Fr Rel-CFr
(2, 2.2]      2.1    4      4 0.0267  0.0267
(2.2, 2.4]    2.3    7     11 0.0467  0.0733
(2.4, 2.6]    2.5   13     24 0.0867  0.1600
(2.6, 2.8]    2.7   23     47 0.1533  0.3133
(2.8, 3]      2.9   36     83 0.2400  0.5533
(3, 3.2]      3.1   24    107 0.1600  0.7133
(3.2, 3.4]    3.3   18    125 0.1200  0.8333
(3.4, 3.6]    3.5   10    135 0.0667  0.9000
(3.6, 3.8]    3.7    9    144 0.0600  0.9600
(3.8, 4]      3.9    3    147 0.0200  0.9800
(4, 4.2]      4.1    2    149 0.0133  0.9933
(4.2, 4.4]    4.3    1    150 0.0067  1.0000
```

![](../.gitbook/assets/image%20%2857%29.png)
{% endtab %}

{% tab title="3." %}
```text
> freq.table(x, cut=mycut, mp=TRUE, col=4)
##          Center Freq Cum-Fr Rel-Fr Rel-CFr
## (2, 2.5]   2.25   19     19 0.1267  0.1267
## (2.5, 3]   2.75   64     83 0.4267  0.5533
## (3, 3.5]   3.25   48    131 0.3200  0.8733
## (3.5, 4]   3.75   16    147 0.1067  0.9800
## (4, 4.5]   4.25    3    150 0.0200  1.0000
```

![](../.gitbook/assets/image%20%2838%29.png)
{% endtab %}
{% endtabs %}

















